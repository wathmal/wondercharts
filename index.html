<html>
   <head>
      <base target="_parent" />

      <script type="text/javascript" src="http://sslstatic.wix.com/services/js-sdk/1.35.0/js/Wix.js"></script>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
	  <script src="http://www.parsecdn.com/js/parse-1.3.0.min.js"></script>
	  
      <script rel="stylesheet" type="text/css">
	  		article, aside, details, figcaption, figure, 
		footer, header, hgroup, menu, nav, section {
		  display: block;
		}
		
		fieldset
		{
		  margin: 0;
		  padding: 0;
		  border: 0;
		}
		
		input:focus,textarea:focus {
		  outline: none;
		}
		
		/*----------------------*/
		
		body
		{
			font-family: Arial, Helvetica, sans-serif;
			color: #444;
			background: #eee url("https://raw.githubusercontent.com/wondercharts/wondercharts/master/noise-pattern.png");
			margin: 0;
			font-size: 12px;
		}     
		
		/*----------------------*/
		
		.cf:before,
		.cf:after {
		  content:"";
		  display:table;
		}
		
		.cf:after {
		  clear:both;
		}
		
		.cf {
		  zoom:1;
		}
		  
		/*----------------------*/
		
		header {
		  padding: 8px 10%;
		  border-bottom: 1px solid #fff;
		  background-color: #777;
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#777), to(#555));
		  background-image: -webkit-linear-gradient(top, #777, #555);
		  background-image: -moz-linear-gradient(top, #777, #555);
		  background-image: -ms-linear-gradient(top, #777, #555);
		  background-image: -o-linear-gradient(top, #777, #555);
		  background-image: linear-gradient(top, #777, #555);
		  -moz-box-shadow: 0 -3px 3px rgba(0,0,0,.5) inset;
		  -webkit-box-shadow: 0 -3px 3px rgba(0,0,0,.5) inset;
		  box-shadow: 0 -3px 3px rgba(0,0,0,.5) inset;
		}
		
		/*----------------------*/
		
		nav ul {
		  margin: 0;
		  padding: 0;
		  list-style: none;
		  position: relative;
		  float: right;
		  background: #eee;
		  border-bottom: 1px solid #fff;
		  -moz-border-radius: 3px;
		  -webkit-border-radius: 3px;
		  border-radius: 3px;    
		}
		
		nav li {
		  float: left;          
		}
		
		nav #login {
		  border-right: 1px solid #ddd;
		  -moz-box-shadow: 1px 0 0 #fff;
		  -webkit-box-shadow: 1px 0 0 #fff;
		  box-shadow: 1px 0 0 #fff;  
		}
		
		nav #login-trigger,
		nav #signup a {
		  display: inline-block;
		  *display: inline;
		  *zoom: 1;
		  height: 25px;
		  line-height: 25px;
		  font-weight: bold;
		  padding: 0 8px;
		  text-decoration: none;
		  color: #444;
		  text-shadow: 0 1px 0 #fff; 
		}
		
		nav #signup a {
		  -moz-border-radius: 0 3px 3px 0;
		  -webkit-border-radius: 0 3px 3px 0;
		  border-radius: 0 3px 3px 0;
		}
		
		nav #login-trigger {
		  -moz-border-radius: 3px 0 0 3px;
		  -webkit-border-radius: 3px 0 0 3px;
		  border-radius: 3px 0 0 3px;
		}
		
		nav #login-trigger:hover,
		nav #login .active,
		nav #signup a:hover {
		  background: #fff;
		}
		
		nav #login-content {
		  display: none;
		  position: absolute;
		  top: 24px;
		  right: 0;
		  z-index: 999;    
		  background: #fff;
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee));
		  background-image: -webkit-linear-gradient(top, #fff, #eee);
		  background-image: -moz-linear-gradient(top, #fff, #eee);
		  background-image: -ms-linear-gradient(top, #fff, #eee);
		  background-image: -o-linear-gradient(top, #fff, #eee);
		  background-image: linear-gradient(top, #fff, #eee);  
		  padding: 15px;
		  -moz-box-shadow: 0 2px 2px -1px rgba(0,0,0,.9);
		  -webkit-box-shadow: 0 2px 2px -1px rgba(0,0,0,.9);
		  box-shadow: 0 2px 2px -1px rgba(0,0,0,.9);
		  -moz-border-radius: 3px 0 3px 3px;
		  -webkit-border-radius: 3px 0 3px 3px;
		  border-radius: 3px 0 3px 3px;
		}
		
		nav li #login-content {
		  right: 0;
		  width: 250px;  
		}
		
		/*--------------------*/
		
		#inputs input {
		  background: #f1f1f1;
		  padding: 6px 5px;
		  margin: 0 0 5px 0;
		  width: 238px;
		  border: 1px solid #ccc;
		  -moz-border-radius: 3px;
		  -webkit-border-radius: 3px;
		  border-radius: 3px;
		  -moz-box-shadow: 0 1px 1px #ccc inset;
		  -webkit-box-shadow: 0 1px 1px #ccc inset;
		  box-shadow: 0 1px 1px #ccc inset;
		}
		
		#inputs input:focus {
		  background-color: #fff;
		  border-color: #e8c291;
		  outline: none;
		  -moz-box-shadow: 0 0 0 1px #e8c291 inset;
		  -webkit-box-shadow: 0 0 0 1px #e8c291 inset;
		  box-shadow: 0 0 0 1px #e8c291 inset;
		}
		
		/*--------------------*/
		
		#login #actions {
		  margin: 10px 0 0 0;
		}
		
		#login #submit {		
		  background-color: #d14545;
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#e97171), to(#d14545));
		  background-image: -webkit-linear-gradient(top, #e97171, #d14545);
		  background-image: -moz-linear-gradient(top, #e97171, #d14545);
		  background-image: -ms-linear-gradient(top, #e97171, #d14545);
		  background-image: -o-linear-gradient(top, #e97171, #d14545);
		  background-image: linear-gradient(top, #e97171, #d14545);
		  -moz-border-radius: 3px;
		  -webkit-border-radius: 3px;
		  border-radius: 3px;
		  text-shadow: 0 1px 0 rgba(0,0,0,.5);
		  -moz-box-shadow: 0 0 1px rgba(0, 0, 0, 0.3), 0 1px 0 rgba(255, 255, 255, 0.3) inset;
		  -webkit-box-shadow: 0 0 1px rgba(0, 0, 0, 0.3), 0 1px 0 rgba(255, 255, 255, 0.3) inset;
		  box-shadow: 0 0 1px rgba(0, 0, 0, 0.3), 0 1px 0 rgba(255, 255, 255, 0.3) inset;    
		  border: 1px solid #7e1515;
		  float: left;
		  height: 30px;
		  padding: 0;
		  width: 100px;
		  cursor: pointer;
		  font: bold 14px Arial, Helvetica;
		  color: #fff;
		}
		
		#login #submit:hover,
		#login #submit:focus {		
		  background-color: #e97171;
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#d14545), to(#e97171));
		  background-image: -webkit-linear-gradient(top, #d14545, #e97171);
		  background-image: -moz-linear-gradient(top, #d14545, #e97171);
		  background-image: -ms-linear-gradient(top, #d14545, #e97171);
		  background-image: -o-linear-gradient(top, #d14545, #e97171);
		  background-image: linear-gradient(top, #d14545, #e97171);
		}	
		
		#login #submit:active {		
		  outline: none;
		  -moz-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.5) inset;
		  -webkit-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.5) inset;
		  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.5) inset;		
		}
		
		#login #submit::-moz-focus-inner {
		  border: none;
		}
		
		#login label {
		  float: right;
		  line-height: 30px;
		}
		
		#login label input {
		  position: relative;
		  top: 2px;
		  right: 2px;
		}
		
		/*--------------------*/
		
		#about {
			margin: 15px;
		}
		
		#about a {
			color: #555;
		}
	  
	  </script>
      
	  <link type="text/css" rel="stylesheet" href="https://raw.githubusercontent.com/wondercharts/wondercharts/gh-pages/loginmenu.css" />

      <script>
         $(document).ready(function(){
         $('#login-trigger').click(function(){
         	$(this).next('#login-content').slideToggle();
         	$(this).toggleClass('active');					
         	
         	if ($(this).hasClass('active')) $(this).find('span').html('&#x25B2;')
         		else $(this).find('span').html('&#x25BC;')
         	})
         });
      </script>

      <script>
         Parse.initialize("uNXNmbtDY6LnSeVtCL1tVC1GOy1BffVeQx2hnGRy", "h5lAKCjHajJ7Hjy8DuSTi3Hrz9r4b2AiMJ4jT50J");
      </script>
	  
	<script>
		window.fbAsyncInit = function() {
			Parse.FacebookUtils.init({ // this line replaces FB.init({
			appId      : '564283890385172', // Facebook App ID
			status     : true, // check Facebook Login status
			cookie     : true, // enable cookies to allow Parse to access the session
			xfbml      : true,
			version    : 'v2.1'
			});
 
		// Run code after the Facebook SDK is loaded.
		};
 
		(function(d, s, id){
			var js, fjs = d.getElementsByTagName(s)[0];
			
			if (d.getElementById(id)) {return;}
			
			js = d.createElement(s); js.id = id;
			js.src = "//connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>

	<script>
		function FacebookLogin(){
			Parse.FacebookUtils.logIn("email", {
				success: function(user) {
					if (!user.existed()) {
						alert("User signed up and logged in through Facebook!");
	 				} else {
						alert("User logged in through Facebook!");
					}
					
					var myuser = Parse.User.current();
			
					FB.api('/me?scope=email', function(me) {
						myuser.set("email", me.email);
						myuser.set("name", me.first_name);
						myuser.set("surname", me.last_name);
						myuser.set("locale", me.locale);
						myuser.set("agerange", me.age_range);
						myuser.set("gender", me.gender);
			  
						myuser.save(null,{
							success: function(myuser){  alert('saved');},
							error: function(myuser,error3){ alert(error3);}
						});
					});
			
					location.reload();
				},
  
				error: function(user, error) {
					alert("User cancelled the Facebook login or did not fully authorize.");
				}
			});
		}

	</script>
	  
    <script>
		function Login1(){		  
         	Parse.User.logIn(document.getElementById("username").value, document.getElementById("password").value, {
				success: function(user) {
					if (document.getElementById("StayLoggedIn").checked == true){
					user.set("StayLoggedIn", "true")
					}
					
					if (document.getElementById("StayLoggedIn").checked == false){
					user.set("StayLoggedIn", "false")
					}
				
					user.save();
					location.reload();
				},
          
				error: function(user, error) {
					alert(error);
				}
			});
		}
	</script>
    
	<script>
		function Logout(){
			if (Parse.User.current != null){
				Parse.User.logOut();
				document.getElementById("bd2").style.display="none";
				location.reload();
			}
		}	
	</script>
    
	<script>
		function runScript(e) {
			if (e.keyCode == 13) {
				Login1();
                return false;
            }
         }
	</script>
   
    <script>
         function ChangePass(){
			document.getElementById("bd3").style.display="none";
			document.getElementById("bd4").style.display="block";
         }
    </script>
	
	<script>
		function ChangePass2(){
			Parse.User.requestPasswordReset(document.getElementById("resetemail").value, {
				success: function() {
					alert("Please check your email and click on the password reset link");
				},
				
				error: function(error) {
					// Show the error message somewhere
					alert("Error: " + error.code + " " + error.message);
				}
			});
		}
	</script>
</head>

<body id="body" style="background-color:transparent;text-align:right;margin-right:30px;">
	<div id="bd1">
		<nav id="nav1" class="action-nav">
			<a aria-label="Sign Up Free" class="btn-primary-small pop" href="http://www.wondercharts.com/#!New_User/c1sfz" role="button">
			Sign Up Free
			</a>
			<a aria-label="Log In" id="login-trigger" target="_self" class="nav-login nav-link" href="#" role="button">
			Log In 
				<span>&#x25BC;</span>
			</a>
         
			<div id="login-content" style="background-image:url('https://raw.githubusercontent.com/wondercharts/wondercharts/master/bg.jpg');border-color:#4B454C;border-width:thin;border-style:solid;top:0%;margin-top:50;">
				<div id="bd3" style="display:block">
					<form>
						<fieldset id="inputs">
							<input id="username" type="email" name="Email" placeholder="Your email address" required>   
							<input id="password" onkeypress="return runScript(event)" type="password" name="Password" placeholder="Password" required>
						</fieldset>
						<fieldset id="actions">

							<a onclick="Login1();" aria-label="Login" class="btn-primary-small pop" style="background-color:#FCCF62;color:#FCCF62;margin-top:10;width:15%;height:20;float:right;vertical-align:middle;" ref="http://www.wondercharts.com/#!New_User/c1sfz" role="button">
							Login
							</a>
					
							<label style="color:white;float:left;margin-top:20;margin-left:-18;width:50%;"><input type="checkbox" id="StayLoggedIn"> Keep me signed in
							</label>
							<label onclick="ChangePass();" style="cursor:pointer;color:white;float:left;margin-top:10;margin-left:-50;width:50%;font-size:small;text-decoration:underline;">I forgot my password
							</label>
							
							<a onclick="FacebookLogin();" aria-label="Login"  style="cursor:pointer;background-image:url('https://raw.githubusercontent.com/wondercharts/wondercharts/gh-pages/fblogin.png');margin-top:57;margin-left:-129;width:56%;height:38;float:left;" role="button">
							</a>
						</fieldset>
					</form>
				</div>
         
				<div id="bd4" style="display:none;width:350;text-align:left;">
					<form>
						
						<label  style="color:white;margin-top:0;margin-bottom:40;width:50%;font-size:x-large;">Reset Password
						</label>
						
						<fieldset id="inputs1">
							<input id="resetemail" type="email" style="margin-top:20;" name="Email" placeholder="Your email address" required>   
						</fieldset>
						<fieldset id="actions1">
							<a onclick="ChangePass2();" aria-label="Login6" class="btn-primary-small pop" style="background-color:#FCCF62;color:#FCCF62;margin-top:20;width:89%;height:16;float:left;vertical-align:middle;font-size:medium;padding-bottom:23;" ref="http://www.wondercharts.com/#!New_User/c1sfz" role="button">
							Send reset password link
							</a>
						</fieldset>
					</form>
				</div>
      
			</div>
		</div>
		
		<div id="bd2" style="display:none">
			<label id="NameOfUser">
			</label>
            
			<a aria-label="Log In" target="_self" class="nav-login nav-link" onClick="Logout();" href="#" style="padding: 2 2 2 2;margin-right:30px;" onmouseover="this.style.backgroundColor='#ffffff';" role="button">
				<label style="cursor:pointer" id="Logout"> (Logout) 
				</label>
			</a>
		</div>
		
		<script>
			var CurrentUser = Parse.User.current();
         
			if (CurrentUser){
				document.getElementById("bd1").style.display="none";
				var CurrentUser1 = Parse.User.current();
				var FullName = "";
				
				FullName +="Hi, ";
				FullName += CurrentUser1.attributes.name;
				
				document.getElementById("NameOfUser").innerHTML = FullName;
				document.getElementById("bd2").style.display="block";
			}
		</script>
	</body>
</html>